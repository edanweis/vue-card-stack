var VueCardStack=function(t){"use strict";function e(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function i(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function n(t){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?i(Object(a),!0).forEach((function(i){e(t,i,a[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var a,s,r,o,d={name:"VueCardStack",props:{cards:{type:Array,default:function(){return[]}},cardWidth:{type:Number,default:function(){return 300}},cardHeight:{type:Number,default:function(){return 400}},stackWidth:{type:[Number,String],default:function(){return null}},sensitivity:{type:Number,default:function(){return.25}},maxVisibleCards:{type:Number,default:function(){return 10}},scaleMultiplier:{type:Number,default:function(){return.5}},speed:{type:Number,default:function(){return.2}},paddingHorizontal:{type:Number,default:function(){return 20}},paddingVertical:{type:Number,default:function(){return 20}},dragEnabled:{type:Boolean,default:function(){return!0}}},data:function(){return{stack:[],width:0,activeCardIndex:1,isDragging:!1,dragStartX:0,dragStartY:0,isDraggingRight:!1,dragEnabled:!0}},mounted:function(){this.init(),window.addEventListener("resize",this.handleResize),this.$el.addEventListener(this.touchStartEvent,this.onTouchStart),document.addEventListener(this.touchEndEvent,this.onTouchEnd)},watch:{_scaleMultiplier:{handler:function(){this.rebuild()}},_maxVisibleCards:{handler:function(){this.rebuild()}}},computed:{_stackWidth:function(){return this.stackWidth?"number"==typeof this.stackWidth?this.stackWidth:this.width||this.$el.clientWidth:this.cardWidth+2*this.paddingHorizontal},_maxVisibleCards:function(){return this.cards.length>this.maxVisibleCards?this.maxVisibleCards:this.cards.length-1},_scaleMultiplier:function(){return-1*(this.scaleMultiplier-1)/10},containerWidth:function(){return this.stackWidth?"number"==typeof this.stackWidth?"".concat(this.stackWidth,"px"):this.stackWidth:"".concat(this.cardWidth+2*this.paddingHorizontal,"px")},elementXPosOffset:function(){return this.$el.getBoundingClientRect().x},isTouch:function(){return"ontouchstart"in window},dragEvent:function(){return this.isTouch?"touchmove":"mousemove"},touchStartEvent:function(){return this.isTouch?"touchstart":"mousedown"},touchEndEvent:function(){return this.isTouch?"touchend":"mouseup"},stackRestPoints:function(){var t=this;return this.cards.map((function(e,i){var n=t.xPosOffset*(i-1);return i?1===i?t._stackWidth-t.cardWidth-t.paddingHorizontal:t._stackWidth-t.cardWidth-n-t.paddingHorizontal:t._stackWidth+t.paddingHorizontal}))},cardDefaults:function(){var t=this;return this.cards.map((function(e,i){var n=i>=1?1-t._scaleMultiplier*(i-1):1,a=t.stackRestPoints[i];return{opacity:i>0&&i<t._maxVisibleCards?1:0,display:i<t._maxVisibleCards+1?"block":"none",xPos:i<t._maxVisibleCards?a:a+t.xPosOffset,yPos:t.paddingVertical,scale:n>0?n:0,width:t.cardWidth,height:t.cardHeight,zIndex:t.cards.length-i}}))},xPosOffset:function(){return(this._stackWidth-2*this.paddingHorizontal-this.cardWidth)/(this._maxVisibleCards-2)},originalActiveCardIndex:function(){return this.stack[this.activeCardIndex]?this.stack[this.activeCardIndex]._index:0}},methods:{init:function(){var t=this;this.cards.unshift(this.cards.pop()),this.stack=this.cards.map((function(e,i){return n(n({_id:(new Date).getTime()+i,_index:i},e),t.cardDefaults[i])}))},rebuild:function(){var t=this;this.$nextTick((function(){t.stack=t.stack.map((function(e,i){return n(n({},e),t.cardDefaults[i])}))}))},handleResize:(a=function(){this.width=this.$el.clientWidth,this.rebuild()},s=250,function(){var t=this,e=arguments,i=function(){o=null,r||a.apply(t,e)},n=r&&!o;clearTimeout(o),o=setTimeout(i,s),n&&a.apply(t,e)}),onNext:function(){var t=this.stack.shift();this.stack.push(t),this.rebuild()},onPrevious:function(){var t=this.stack.pop();this.stack.unshift(t),this.rebuild()},updateStack:function(){var t=this.stack[this.activeCardIndex],e=this.stackRestPoints[this.activeCardIndex],i=t.xPos-e,n=(this.cardWidth+this.paddingHorizontal)/(1/this.sensitivity);this.$emit("move",0),this.isDraggingRight?i>n&&this.onNext():-1*i>n&&this.onPrevious()},moveStack:function(t){var e=this,i=t-this.dragStartX;this.$emit("move",i/(this.cardWidth+this.paddingHorizontal)),this.isDraggingRight?this.activeCardIndex=1:this.activeCardIndex=0,this.stack=this.stack.map((function(t,a){var s=a===e.activeCardIndex,r=s?e.cardDefaults[a].xPos+i:e.cardDefaults[a].xPos+e.xPosOffset/(e.cardWidth+e.paddingHorizontal)*i,o=s?e.cardDefaults[a].scale:e.cardDefaults[a].scale+e._scaleMultiplier/(e.cardWidth+e.paddingHorizontal)*i;return n(n(n({},t),e.cardDefaults[a]),{},{xPos:r,scale:o,opacity:0!==a||e.isDraggingRight?e.cardDefaults[a].opacity:1})}))},getDragXPos:function(t){return this.isTouch?t.touches[0].clientX:t.clientX},getDragYPos:function(t){return this.isTouch?t.touches[0].clientY:t.clientY},onTouchStart:function(t){this.isDragging=!0,this.dragStartX=this.getDragXPos(t)-this.elementXPosOffset,this.dragStartY=this.getDragYPos(t),document.addEventListener(this.dragEvent,this.onDrag)},onTouchEnd:function(){this.isDragging=!1,this.dragStartX=0,this.dragStartY=0,document.removeEventListener(this.dragEvent,this.onDrag),this.updateStack()},onDrag:function(t){var e=this.getDragXPos(t)-this.elementXPosOffset;this.isDraggingRight=e>this.dragStartX,this.dragEnabled&&this.moveStack(e)}}};function c(t,e,i,n,a,s,r,o,d,c){"boolean"!=typeof r&&(d=o,o=r,r=!1);const u="function"==typeof i?i.options:i;let h;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,a&&(u.functional=!0)),n&&(u._scopeId=n),s?(h=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,d(t)),t&&t._registeredComponents&&t._registeredComponents.add(s)},u._ssrRegister=h):e&&(h=r?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,o(t))}),h)if(u.functional){const t=u.render;u.render=function(e,i){return h.call(i),t(e,i)}}else{const t=u.beforeCreate;u.beforeCreate=t?[].concat(t,h):[h]}return i}const u="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function h(t){return(t,e)=>function(t,e){const i=u?e.media||"default":t,n=f[i]||(f[i]={ids:new Set,styles:[]});if(!n.ids.has(t)){n.ids.add(t);let i=e.source;if(e.map&&(i+="\n/*# sourceURL="+e.map.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),n.element||(n.element=document.createElement("style"),n.element.type="text/css",e.media&&n.element.setAttribute("media",e.media),void 0===l&&(l=document.head||document.getElementsByTagName("head")[0]),l.appendChild(n.element)),"styleSheet"in n.element)n.styles.push(i),n.element.styleSheet.cssText=n.styles.filter(Boolean).join("\n");else{const t=n.ids.size-1,e=document.createTextNode(i),a=n.element.childNodes;a[t]&&n.element.removeChild(a[t]),a.length?n.element.insertBefore(e,a[t]):n.element.appendChild(e)}}}(t,e)}let l;const f={};var p=c({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vue-card-stack__wrapper"},[i("div",{staticClass:"vue-card-stack__stack",style:{height:t.cardHeight+2*t.paddingVertical+"px",width:t.containerWidth}},t._l(t.stack,(function(e,n){return i("div",{key:e._id,staticClass:"vue-card-stack__card",style:{opacity:e.opacity,display:e.display,top:e.yPos+"px",width:e.width+"px",height:e.height+"px",zIndex:e.zIndex,transition:"transform "+(t.isDragging?0:t.speed)+"s ease, opacity "+t.speed+"s ease",transform:"\n          scale("+e.scale+", "+e.scale+") \n          translate("+e.xPos+"px, 0)\n        "}},[t._t("card",null,{card:Object.assign({},e,{$index:n})})],2)})),0),t._v(" "),t._t("nav",null,null,{activeCardIndex:t.originalActiveCardIndex,onNext:t.onNext,onPrevious:t.onPrevious})],2)},staticRenderFns:[]},(function(t){t&&t("data-v-8fa76066_0",{source:".vue-card-stack__wrapper[data-v-8fa76066]{position:relative}.vue-card-stack__stack[data-v-8fa76066]{position:relative;overflow:hidden}.vue-card-stack__card[data-v-8fa76066]{position:absolute;transform-origin:0 50%;cursor:grab}",map:void 0,media:void 0})}),d,"data-v-8fa76066",!1,void 0,!1,h,void 0,void 0),g=function(t){g.installed||(g.installed=!0,t.component("VueCardStack",p))},m={install:g},v=null;return"undefined"!=typeof window?v=window.Vue:"undefined"!=typeof global&&(v=global.Vue),v&&v.use(m),p.install=g,t.default=p,t}({});